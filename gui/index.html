<!--
  ~ ----------------------------------------------------------------------------
  ~ "THE BEER-WARE LICENSE" (Revision 42):
  ~ daniel.kratzert@ac.uni-freiburg.de> wrote this file.  As long as you retain
  ~ this notice you can do whatever you want with this stuff. If we meet some day,
  ~ and you think this stuff is worth it, you can buy me a beer in return. 
  ~ Dr. Daniel Kratzert
  ~ ----------------------------------------------------------------------------
  -->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Molecule View</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=1"/>
    <link rel="stylesheet" href="../../assets/css/LiteMol-plugin.css?lmversion=10" type="text/css"/>
    <script src="../../assets/js/LiteMol-plugin.js?lmversion=10"></script>
</head>
<body>
<div id="app"></div>
    <script>
        namespace;
        LiteMol.SimpleControllerExample;
        {
            let plugin = Plugin.create({
                target: '#app',
                viewportBackground: '#fff',
                layoutState: {
                    hideControls: true,
                    isExpanded: true
                },
                allowAnalytics: false
            });
    
            let id = '1tqn';
            plugin.loadMolecule({
                id,
                format: 'cif', // or pdb, sdf, binarycif/bcif
                //url: `https://www.ebi.ac.uk/pdbe/static/entry/${id.toLowerCase()}_updated.cif`,
                // instead of url, it is possible to use
                // data: "string" or ArrayBuffer (for BinaryCIF)
                data: ArrayBuffer.valueOf(foo),
    
                // loaded molecule and model can be accessed after load
                // using plugin.context.select(modelRef/moleculeRef)[0],
                // for example plugin.context.select('1tqn-molecule')[0]
                moleculeRef: id + '-molecule',
                modelRef: id + '-model',
                // Use this if you want to create your own visual.
                // doNotCreateVisual: true
            }).then(() => {
                const style = LiteMol.Bootstrap.Visualization.Molecule.Default.ForType.get('BallsAndSticks');
                // const t = plugin.createTransform();
                // t.add(id + '-model', LiteMol.Bootstrap.Entity.Transformer.Molecule.CreateVisual, { style: style })
                // plugin.applyTransform(t);
                console.log('Molecule loaded');
            }).catch(e => {
                console.error(e);
            });
    
    </script>

</body>
</html>